<!--
  ~ Copyright 2012 The Broad Institute, Inc.
  ~ SOFTWARE COPYRIGHT NOTICE
  ~ This software and its documentation are the copyright of the Broad Institute, Inc. All rights are reserved.
  ~
  ~ This software is supplied without any warranty or guaranteed support whatsoever. The Broad Institute is not responsible for its use, misuse, or functionality.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk">

    <ui:composition template="/templates/common.xhtml">
        <ui:define name="validationInit">
            <script type="text/javascript" language="javascript">
                /* <![CDATA[ */
                function onLoad() {
                    var objForm = document.forms["registrationForm"];

                }
                /* ]]> */

            </script>
        </ui:define>

        <ui:define name="pageTitle">Register your GenePattern server</ui:define>
        <ui:define name="body">
            <h:form onsubmit="return validateForm(this);" id="registrationForm">
                <t:div rendered="#{registerServerBean.isUpdate}">
                    <h2>GenePattern Server Upgrade</h2>
                    <hr size="1" />
                    Thank you for upgrading your GenePattern Server. Please update your registration.
                    <ol>
                        <li>Fill in the registration form below.</li>
                        <li>The license agreement has not changed.<br />
                            If you still agree with the terms click the <b>I AGREE</b> button at the end of the form.
                        </li>
                        <li>A registration record will be e-mailed to you for your records.</li>
                    </ol>
                </t:div>

                <t:div rendered="#{not registerServerBean.isUpdate}">
                    <h2>GenePattern Server License</h2>
                    <hr size="1" />
                    Instructions to register and activate your copy of GenePattern. Read carefully.
                    <ol>
                        <li>Fill in the registration form below.</li>
                        <li>Read the license agreement and make sure you agree with the terms of the agreement.<br /> If so click the <b>I AGREE</b> button at the end of the form.</li>
                        <li>A copy of the registration record will be e-mailed to you for your records.</li>
                    </ol>
                </t:div>
                <hr size="1" />
                <br />
                Items marked with a&#160;<h:outputText styleClass="purge_notice" value="*" /> are required
                <br />

                <br />
                <h:panelGrid columns="2">
                    <h:outputText value="" /><h:outputText styleClass="purge_notice" value="REGISTRATION/LICENSEE SUBSCRIBER INFORMATION" />

                    <h:panelGroup>
                        <h:outputLabel value="Name:" for="name" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>
                    <t:inputText size="50" value="#{registerServerBean.name}"
                                 id="name" required="true"
                                 requiredMessage="Please enter your name." />

                    <h:outputLabel value="Title:" for="title" />
                    <t:inputText size="50" value="#{registerServerBean.title}" id="title" />

                    <h:panelGroup>
                        <h:outputLabel value="Email:" for="email" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>

                    <t:inputText size="50" value="#{registerServerBean.email}" id="email" required="true"
                                 requiredMessage="Please enter your email address." />

                    &#160;
                    <h:panelGroup>
                        <h:selectBooleanCheckbox title="emailUpdates" value="#{registerServerBean.joinMailingList}" id="emailUpdates">
                        </h:selectBooleanCheckbox>
                        <h:outputText value="Add me to the GenePattern users mailing list" />
                    </h:panelGroup>

                    <h:outputText value="" /><h:outputText />
                    <h:panelGroup>
                        <h:outputLabel value="Organization:" for="organization" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>
                    <t:inputText size="50" value="#{registerServerBean.organization}" id="organization" required="true"
                                 requiredMessage="Please enter your organization's name" />

                    <h:outputLabel value="Department:" for="department" />
                    <t:inputText size="50" value="#{registerServerBean.department}" id="department" />

                    <h:panelGroup>
                        <h:outputLabel value="Address:" for="address1" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>
                    <t:inputText size="50" value="#{registerServerBean.address1}" id="address1" required="true"
                                 requiredMessage="Please enter your address." />
                    &#160;
                    <t:inputText size="50" value="#{registerServerBean.address2}" id="address2" />

                    <h:panelGroup>
                        <h:outputLabel value="City:" for="city" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>
                    <t:inputText size="50" value="#{registerServerBean.city}" id="city" required="true"
                                 requiredMessage="Please enter your city." />

                    <h:panelGroup>
                        <h:outputLabel value="State/Province:" for="state" />
                        <h:outputText styleClass="purge_notice" value="*" />
                    </h:panelGroup>
                    <t:inputText size="25" value="#{registerServerBean.state}" id="state" required="true"
                                 requiredMessage="Please enter your state or province." />

                    <h:outputLabel value="Zip/Postal Code:" for="zip" />
                    <t:inputText size="25" value="#{registerServerBean.zipCode}" id="zip" />

                    <h:panelGroup>
                        <h:outputLabel value="Country:" for="country" />
                        <h:outputText styleClass="purge_notice" value="*" required="true" />
                    </h:panelGroup>

                    <h:panelGroup>
                        <h:selectOneMenu id="country" value="#{registerServerBean.country}"
                                         required="true" requiredMessage="Please enter your country.">
                            <f:selectItems value="#{registerServerBean.countries}" />
                        </h:selectOneMenu>
                    </h:panelGroup>

                    <h:outputLabel styleClass="purge_notice" value="License:" />

                    <h:panelGroup>
                        <TEXTAREA NAME="license agreement" ROWS="30" COLS="80" WRAP="1" READONLY="true" class="fineprint">
                            ----------------------------------------------------------------
                            *** GENEPATTERN LICENSE AGREEMENT ***

                            ----------------------------------------------------------------
                            GenePattern is distributed under the following BSD-style license:
                            
                            Copyright © 2003-2015 Broad Institute, Inc. and Massachusetts Institute of Technology.  All rights reserved.
                            
                            Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
                            
                            1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
                            
                            2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
                            
                            3. Neither the names of the Broad Institute, Inc., Massachusetts Institute of Technology nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
                            
                            THIS SOFTWARE IS PROVIDED “AS IS.”  BROAD AND MIT MAKE NO EXPRESS OR IMPLIED REPRESENTATIONS OR WARRANTIES OF ANY KIND REGARDING THE SOFTWARE AND COPYRIGHT, INCLUDING, BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, CONFORMITY WITH ANY DOCUMENTATION, NONINFRINGEMENT, OR THE ABSENCE OF LATENT OR OTHER DEFECTS, WHETHER OR NOT DISCOVERABLE. IN NO EVENT SHALL BROAD, MIT, THE COPYRIGHT HOLDERS, OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF, HAVE REASON TO KNOW, OR IN FACT SHALL KNOW OF THE POSSIBILITY OF SUCH DAMAGE.
                            
                            If, by operation of law or otherwise, any of the aforementioned warranty disclaimers are determined inapplicable, your sole remedy, regardless of the form of action, including, but not limited to, negligence and strict liability, shall be replacement of the software with an updated version if one exists.
                        </TEXTAREA>
                    </h:panelGroup>
                </h:panelGrid>
                <br /><br />
                <h:commandButton value="I AGREE" class="little" action="#{registerServerBean.registerServer}" />

            </h:form>

            <br /><br />


        </ui:define>
    </ui:composition>

</html>
