<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">
      
  <ui:composition template="common.xhtml">
    <ui:define name="pageTitle">ajax4jsf. Polling Demo</ui:define>
    <ui:define name="pageHeader">
	</ui:define>

    <ui:define name="body">
      <h:outputText value="Auto Counter:"/>
      <h:outputText id="cnt" value="#{pollExampleBean.counter}"/>
      <h:form>
        <a4j:poll id="picker" enabled="#{pollExampleBean.counter != 10}" 
                  action="#{pollExampleBean.incCounter}" reRender="picker,:cnt, reset" 
                  interval="250"/>
        <h:panelGroup id="reset">
          <a4j:commandButton value="Count Again" reRender="picker,:cnt, reset" 
                             action="#{pollExampleBean.resetCounter}" 
                             rendered="#{pollExampleBean.counter == 10}"/>
        </h:panelGroup>
      </h:form>
    </ui:define>
 
  </ui:composition>
</html>
