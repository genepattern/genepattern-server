<!--
  ~ Copyright (c) 2003-2022 Regents of the University of California and Broad Institute. All rights reserved.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE" />
        <title>SVM Class Prediction</title>
        <link href="../../css/protocolsWindow.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="../../js/protocol.js"></script>
    </head>

    <body>

        <h1>SVM Class Prediction</h1>
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td align="left">
                    <a href="protocols.html">protocols</a>
                </td>
            </tr>
        </table>

        <p>
            The SVM module builds a classifier using the Support Vector Machines (SVM) class prediction method, tests a previously generated SVM classifier, and/or classifies unknown samples using a previously generated SVM classifier.
        </p>

        <div class="steps">
            <h2>Before you begin</h2>

            <p>Generally, you use one data set to train the classifier and the other to test it. Each gene expression data set consists of two files:</p>
            <ul>
                <li><a href="GctResFiles.html">GCT or RES file</a> that contains gene expression data.
                    <br />
                    Example file (training data): <a href="//software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_train.gct">all_aml_train.gct</a>.
                    <br />
                    Example file (test data): <a href="//software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_test.gct">all_aml_test.gct</a>.
                </li>
                <li><a href="ClsFiles.html">CLS file</a> that identifies the class of each sample in the gene expression data.
                    <br />
                    Example file (training data): <a href="//software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_train.cls">all_aml_train.cls</a>.
                    <br />
                    Example file (test data): <a href="//software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_test.cls">all_aml_test.cls</a>.
                </li>
            </ul>
            <p>The data sets must contain the same genes or SVM displays an error message.</p>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td align="right">learn more:<br>
                        <a href="http://software.broadinstitute.org/cancer/software/genepattern/file-formats-guide#GCT">file formats</a>
                    </td>
                </tr>
            </table>

        </div>

        <div class="steps">
            <h2>Step 1: SVM</h2>

            <p>The SVM module builds and/or tests a classifer by running the SVM class prediction method:
            </p>
            <ul>
                <li>To build a classifier, specify the training data set. The module
                    creates a classifier (*.model).
                </li>
                <li>To test a previously built classifier, specify the classifier (*.model) and
                    the test data set. The module creates a
                    prediction results file (*.pred.odf) that assesses the accuracy of the predictor.
                </li>
                <li>To build and test a classifier, specify both the training and test
                    data sets. The module creates a classifier and a prediction results file.
                </li>
            </ul>


            <div class="gpLinks">
                <ul>
                    <li><a href="/gp/pages/index.jsf?lsid=SVM" onclick="return openModuleWindow(this, event);"
                            >Open SVM</a></li>
                    <li><a href="/gp/pages/index.jsf?lsid=SVM&train.data.filename=https://software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_train.gct&train.cls.filename=https://software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_train.cls&test.data.filename=https://software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_test.gct&test.cls.filename=https://software.broadinstitute.org/cancer/software/genepattern/data/all_aml/all_aml_test.cls"
                           onclick="return openModuleWindow(this, event);"
                            >Open SVM with example data</a></li>
                </ul>
            </div>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td align="right">learn more:<br>
                        <a href="/gp/getTaskDoc.jsp?name=SVM">SVM</a>
                    </td>
                </tr>
            </table>
        </div>

        <div class="steps">
            <h2>Step 2: View results</h2>

            <p>To view the prediction results file (*.pred.odf), use the PredictionResultsViewer module.
                For each sample, the viewer lists the actual class, predicted class, and prediction error rates.
            </p>

            <p>The classifier (*.model) is a binary (machine-readable) file. It cannot be viewed, but can be used as input to the SVM module.

            <div class="gpLinks">
                <ul>
                    <li><a href="/gp/pages/index.jsf?lsid=PredictionResultsViewer"
                           onclick="return openModuleWindow(this, event);"
                            >Open PredictionResultsViewer</a></li>
                    <li><a href="/gp/pages/index.jsf?lsid=PredictionResultsViewer&prediction.results.file=https://software.broadinstitute.org/cancer/software/genepattern/data/protocols/all_aml_test.svm.pred.odf"
                           onclick="return openModuleWindow(this, event);"
                            >Open PredictionResultsViewer with example data</a></li>
                </ul>
            </div>
            <h5>Considerations</h5>
            <ul>
                <li>The PredictionResultsViewer provides an absolute error rate (incorrect cases/total cases) and an
                    ROC error rate (fraction of true positives
                    versus the fraction of false positives). Use the ROC error rate for comparing results across data sets.
                </li>
            </ul>


            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td align="right">learn more:<br>
                        <a href="/gp/getTaskDoc.jsp?name=PredictionResultsViewer">PredictionResultsViewer</a>
                    </td>
                </tr>
            </table>
        </div>


        <div class="steps">
            <h2>Step 3: Determine the class of an unknown sample</h2>

            <p>To classify unknown samples using the SVM module:
            <ul>
                <li>Use the <i>saved model filename</i> parameter to specify a previously
                    generated classifier (*.model file).
                <li>Use the <i>test filename</i> parameter to specify an expression data set
                    that contains the unknown samples.
                <li>The <i>test class filename</i> is a required parameter that specifies the
                    class of each sample in the expression data set. For the unknown samples,
                    create a class file that assigns some class (for example, "unknown") to each
                    sample.
                </li>
            </ul>
            <p>The module uses the classifier to predict the class
                of each unknown sample and creates a prediction results file. Use the PredictionResultsViewer module to view the prediction results (*.pred.odf) file:
            <ul>
                <li>The viewer lists each sample with its actual and predicted class.</li>
                <li>Ignore the actual class, which was unknown.</li>
                <li>Ignore the error rates, which are evaluating the class predictor against "known" data.</li>
            </ul>

        </div>

    </body>
</html>
